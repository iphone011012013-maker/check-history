<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© | Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø§Ø³ÙŠ</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<link rel="canonical" href="https://check-history.netlify.app/">
<link rel="alternate" href="https://check-history.netlify.app/" hreflang="ar">

<meta property="og:site_name" content="Check History - Mahmoud AboElfadl" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="ar_AR" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<meta property="og:title" content="Check History â€” Ù…Ù†ØµØ© Ø§Ù„ÙØ­Øµ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ | Mahmoud AboElfadl" />
<meta property="og:description" content="Ø£Ø¯Ø§Ø© Check History Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©. Ù…Ù†ØµØ© ØªØªÙŠØ­ Ù„Ùƒ ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©. Ù…Ø´Ø±ÙˆØ¹ ÙŠØ¯Ù…Ø¬ Ø¨ÙŠÙ† Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©. ØªØ·ÙˆÙŠØ±: Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„." />

<meta property="og:url" content="https://check-history.netlify.app/" />
<meta property="og:image" content="https://check-history.netlify.app/id.png" />
<meta property="og:image:alt" content="Ø´Ø¹Ø§Ø± Check History - Ø£Ø¯Ø§Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·ÙˆÙŠØ± Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„" />

<meta property="og:title" content="Check History â€” Ø£Ø¯Ø§Ø© Ø§Ù„ÙØ­Øµ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ âœ…" />
<meta property="og:description" content="Ø§ÙƒØªØ´Ù Ø£Ø¯Ø§Ø© Check History Ù„ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: Mahmoud AboElfadl." />
<meta property="og:image" content="https://check-history.netlify.app/id.png" />

<meta name="telegram:channel" content="@aboelfadl" />
<meta name="telegram:title" content="Check History â€” Ø£Ø¯Ø§Ø© Ø§Ù„ÙØ­Øµ Ø§Ù„Ø±Ù‚Ù…ÙŠ" />
<meta name="telegram:description" content="Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯ Ù„ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ§Ù„ØªØ­Ù‚Ù‚ØŒ Ø¨Ù„Ù…Ø³Ø© Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ©." />
<meta name="telegram:image" content="https://check-history.netlify.app/id.png" />

<meta name="instagram:title" content="Check History â€” Tech & Verification ğŸ’»" />
<meta name="instagram:description" content="Ø£Ø­Ø¯Ø« Ø£Ø¯ÙˆØ§Øª Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„ Ù„Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ ÙˆÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª." />
<meta name="instagram:image" content="https://check-history.netlify.app/id.png" />
<meta name="instagram:url" content="https://check-history.netlify.app/" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Check History â€” Ø£Ø¯Ø§Ø© Ø§Ù„ÙØ­Øµ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ ğŸ›¡ï¸" />
<meta name="twitter:description" content="Ù…Ù†ØµØ© Ù…ØªØ·ÙˆØ±Ø© Ù„ÙØ­Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø³Ø¬Ù„Ø§Øª. ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ¢Ù…Ù†Ø© Ù…Ù† ØªØ·ÙˆÙŠØ± AboElfadl." />
<meta name="twitter:image" content="https://check-history.netlify.app/id.png" />
<meta name="twitter:image:alt" content="Check History Preview" />

<meta name="description" content="Ù…ÙˆÙ‚Ø¹ Check History - Ø£Ø¯Ø§Ø© Ø±Ù‚Ù…ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„ (Ø·Ø§Ù„Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù…Ø¨Ø±Ù…Ø¬) Ù„Ø¯Ù…Ø¬ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø¨Ø§Ù„ØªÙ‚Ù†ÙŠØ©." />
<meta name="keywords" content="Check History, ÙØ­Øµ Ø§Ù„ØªØ§Ø±ÙŠØ®, Ø³Ø¬Ù„Ø§Øª, ØªØ­Ù‚Ù‚, Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„, Mahmoud AboElfadl, Ø£Ù…Ù† Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ, ØªØ·ÙˆÙŠØ± ÙˆÙŠØ¨, Ø£Ø¯ÙˆØ§Øª ØªØ­Ù‚Ù‚, ID Check">
<meta name="author" content="Mahmoud_AboElfadl">
<meta name="robots" content="index, follow" />

<link rel="icon" href="https://check-history.netlify.app/id.png" type="image/png">
<meta name="theme-color" content="#000000" />
<meta name="mobile-web-app-capable" content="yes" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Check History",
  "url": "https://check-history.netlify.app/",
  "description": "Ø£Ø¯Ø§Ø© Ø±Ù‚Ù…ÙŠØ© Ù„ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ§Ù„ØªØ­Ù‚Ù‚ØŒ ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„.",
  "applicationCategory": "UtilityApplication",
  "operatingSystem": "Web",
  "author": {
    "@type": "Person",
    "name": "Mahmoud AboElfadl",
    "url": "https://mahmoud-aboelfadl.my.canva.site"
  },
  "image": "https://check-history.netlify.app/id.png",
  "sameAs": [
    "https://t.me/aboelfadl",
    "https://www.instagram.com/aboelfadl",
    "https://www.facebook.com/MahmoudAboElfadlOfficial"
  ]
}
</script>

<script src="https://cdn.tailwindcss.com"></script>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --royal-gold: #D4AF37;
            --deep-red: #8B0000;
            --midnight-black: #0F0F0F;
            --papyrus-light: #F5E6CA;
            --tech-cyan: #00f3ff;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--midnight-black);
            color: white;
            background-image: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #000000 100%);
        }

        /* Gold Text */
        .gold-text {
            background: linear-gradient(to bottom, #FFD700, #D4AF37, #B8860B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0px 2px 4px rgba(0,0,0,0.5);
        }

        /* Buttons */
        .gold-btn {
            background: linear-gradient(135deg, #B8860B 0%, #FFD700 50%, #B8860B 100%);
            color: #000;
            transition: all 0.3s ease;
        }
        .gold-btn:hover { transform: translateY(-2px); box-shadow: 0 0 15px rgba(255, 215, 0, 0.4); }

        .tab-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            color: #aaa;
            transition: 0.3s;
        }
        .tab-btn.active {
            background: var(--royal-gold);
            color: #000;
            border-color: var(--royal-gold);
            font-weight: bold;
        }

        .input-field {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #444;
            color: #fff;
            transition: 0.3s;
        }
        .input-field:focus { border-color: var(--royal-gold); outline: none; }

        /* Historical Card */
        .id-card {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZjVlNmNhIi8+CjxwYXRoIGQ9Ik0wIDBMNCA0Wk00IDBMMCA0WiIgc3Ryb2tlPSIjZTZkN2IyIiBzdHJva2Utd2lkdGg9IjAuNSIvPgo8L3N2Zz4=');
            background-color: var(--papyrus-light);
            color: #1a1a1a;
            position: relative;
            overflow: hidden;
            border: 1px solid #ccc;
        }
        .id-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            border: 6px double var(--royal-gold); pointer-events: none;
        }
        .cartouche-container {
            border: 3px solid var(--royal-gold); border-radius: 40px; padding: 5px 15px;
            background: #F5E6CA; display: inline-flex; min-width: 180px;
        }
        .hiero-symbol { width: 30px; height: 30px; margin: 0 1px; fill: #000; }

        /* Analysis Card (Technical) */
        .analysis-card {
            background: #111;
            border: 1px solid #333;
            border-radius: 10px;
            overflow: hidden;
        }
        .analysis-item {
            border-bottom: 1px solid #222;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .analysis-item:last-child { border-bottom: none; }
        .analysis-label { font-size: 0.8rem; color: #888; }
        .analysis-value { font-size: 0.9rem; font-weight: bold; color: #fff; text-align: left; }

        .reveal { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="p-4 text-center border-b border-gray-800 bg-black/80 backdrop-blur sticky top-0 z-50">
        <h1 class="text-2xl font-black gold-text">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h1>
        <p class="text-[10px] text-gray-500 mt-1">Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠ ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®ÙŠ</p>
    </header>

    <!-- Tabs -->
    <div class="flex justify-center p-4 gap-2">
        <button onclick="switchTab('history')" id="tab-history" class="tab-btn active px-6 py-2 rounded-full text-sm">Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©</button>
        <button onclick="switchTab('check')" id="tab-check" class="tab-btn px-6 py-2 rounded-full text-sm">ÙƒØ´Ù Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ</button>
    </div>

    <!-- Main Content -->
    <main class="flex-grow flex items-start justify-center p-4">
        
        <!-- SECTION 1: Historical Identity (Fun) -->
        <div id="history-section" class="w-full max-w-md">
            <!-- Input -->
            <div id="history-input" class="bg-gray-900/80 p-6 rounded-2xl border border-gray-800 shadow-xl">
                <div class="mb-4 text-center">
                    <h2 class="text-lg font-bold text-[#D4AF37]">Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„ÙØ±Ø¹ÙˆÙ†ÙŠ ÙˆØ§Ù„ÙÙ„ÙƒÙŠ</h2>
                    <p class="text-gray-500 text-xs">Ø§ÙƒØªØ´Ù Ù‚Ø±ÙŠÙ†Ùƒ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ ÙˆØµÙØ§Øª Ø¨Ø±Ø¬Ùƒ.</p>
                </div>
                <form onsubmit="generateHistoryCard(event)" class="space-y-4">
                    <input type="text" id="histName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„" class="input-field w-full p-3 rounded-lg text-center" required maxlength="15">
                    
                    <div class="grid grid-cols-3 gap-2">
                         <select id="histDay" class="input-field w-full p-3 rounded-lg text-center cursor-pointer"></select>
                         <select id="histMonth" class="input-field w-full p-3 rounded-lg text-center cursor-pointer">
                            <option value="1">ÙŠÙ†Ø§ÙŠØ±</option><option value="2">ÙØ¨Ø±Ø§ÙŠØ±</option><option value="3">Ù…Ø§Ø±Ø³</option>
                            <option value="4">Ø£Ø¨Ø±ÙŠÙ„</option><option value="5">Ù…Ø§ÙŠÙˆ</option><option value="6">ÙŠÙˆÙ†ÙŠÙˆ</option>
                            <option value="7">ÙŠÙˆÙ„ÙŠÙˆ</option><option value="8">Ø£ØºØ³Ø·Ø³</option><option value="9">Ø³Ø¨ØªÙ…Ø¨Ø±</option>
                            <option value="10">Ø£ÙƒØªÙˆØ¨Ø±</option><option value="11">Ù†ÙˆÙÙ…Ø¨Ø±</option><option value="12">Ø¯ÙŠØ³Ù…Ø¨Ø±</option>
                        </select>
                        <input type="number" id="histYear" placeholder="Ø§Ù„Ø³Ù†Ø©" class="input-field w-full p-3 rounded-lg text-center" min="1950" max="2025" required>
                    </div>

                    <div class="flex gap-4">
                         <label class="flex-1 cursor-pointer">
                            <input type="radio" name="histGender" value="male" checked class="hidden peer">
                            <div class="p-2 rounded-lg border border-gray-700 text-center peer-checked:border-[#D4AF37] peer-checked:text-[#D4AF37]">Ø°ÙƒØ±</div>
                        </label>
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="histGender" value="female" class="hidden peer">
                            <div class="p-2 rounded-lg border border-gray-700 text-center peer-checked:border-[#D4AF37] peer-checked:text-[#D4AF37]">Ø£Ù†Ø«Ù‰</div>
                        </label>
                    </div>

                    <button type="submit" class="gold-btn w-full py-3 rounded-xl font-bold mt-2">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ©</button>
                </form>
            </div>

            <!-- Result (Hidden) -->
            <div id="history-result" class="hidden mt-4 relative">
                <div id="captureHistory" class="id-card w-full rounded-xl shadow-2xl p-5 text-center">
                    <div class="py-2">
                        <h3 class="text-[#8B0000] font-bold text-sm tracking-widest uppercase mb-2">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØµØ±ÙŠØ©</h3>
                        
                        <div class="w-16 h-16 mx-auto bg-gray-200 rounded-full border-4 border-[#D4AF37] mb-2 overflow-hidden flex items-center justify-center">
                             <div id="godSymbol" class="text-3xl"></div>
                        </div>
                        
                        <h2 id="cardName" class="text-xl font-black text-black mb-1"></h2>
                        <div class="cartouche-container mb-3 scale-90" id="hieroglyphName"></div>
                        
                        <!-- Badges -->
                        <div class="flex justify-center gap-2 mb-2">
                            <span id="histAgeBadge" class="text-[10px] border border-gray-600 text-black px-2 rounded-full font-bold"></span>
                            <span id="histZodiacBadge" class="text-[10px] border border-[#8B0000] text-[#8B0000] px-2 rounded-full font-bold"></span>
                        </div>

                        <div class="bg-[#e8dcc0] p-3 rounded-lg border border-[#D4AF37]/50 text-right">
                            <!-- Pharaonic -->
                            <div class="mb-2 border-b border-[#D4AF37]/30 pb-2">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] text-[#8B0000] font-bold">Ø§Ù„Ù‚Ø±ÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ</span>
                                    <span id="godName" class="text-[10px] font-bold text-black"></span>
                                </div>
                                <p id="prophecy" class="text-[10px] text-gray-800 leading-snug font-semibold"></p>
                            </div>
                            <!-- Zodiac -->
                            <div>
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] text-[#8B0000] font-bold">ØµÙØ§Øª Ø§Ù„Ø¨Ø±Ø¬</span>
                                    <span class="text-[10px] text-black">ğŸ”­</span>
                                </div>
                                <p id="histZodiacTraits" class="text-[10px] text-gray-700 leading-snug"></p>
                            </div>
                        </div>
                        
                        <div class="mt-2 flex justify-between items-center px-2">
                            <div class="text-[8px] text-gray-500" id="histFullDate"></div>
                            <div class="text-lg">ğ“‹¹ ğ“ ğ“†£</div>
                        </div>
                    </div>
                </div>
                <!-- Actions -->
                <div class="mt-4 flex gap-2">
                    <button onclick="downloadImage('captureHistory', 'HistoryID')" class="flex-1 bg-gray-800 py-2 rounded-lg text-xs hover:bg-gray-700">Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©</button>
                    <button onclick="shareWhatsApp()" class="flex-1 bg-[#25D366] py-2 rounded-lg text-xs font-bold hover:bg-[#1ebc57] flex justify-center items-center gap-1">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                        Ù…Ø´Ø§Ø±ÙƒØ©
                    </button>
                    <button onclick="resetApp('history')" class="flex-1 bg-red-900/50 py-2 rounded-lg text-xs hover:bg-red-900">Ø¬Ø¯ÙŠØ¯</button>
                </div>
            </div>
        </div>

        <!-- SECTION 2: ID Check (Security/Tech) -->
        <div id="check-section" class="w-full max-w-md hidden">
            <!-- Input -->
            <div id="check-input" class="bg-gray-900/80 p-6 rounded-2xl border border-gray-800 shadow-xl">
                <div class="mb-4 text-center">
                    <h2 class="text-lg font-bold text-white flex justify-center items-center gap-2">
                        <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ
                    </h2>
                    <p class="text-gray-500 text-xs">Ø£Ø¯Ø§Ø© OSINT Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø±Ù‚Ù….</p>
                </div>
                <form onsubmit="analyzeID(event)" class="space-y-4">
                    <input type="number" id="nidInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù€ 14 Ø±Ù‚Ù… Ù‡Ù†Ø§" 
                           class="input-field w-full p-4 rounded-lg text-center font-mono text-xl tracking-widest" required>
                    <button type="submit" class="w-full py-3 rounded-xl font-bold mt-2 bg-gray-700 hover:bg-gray-600 transition">ÙØ­Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                </form>
            </div>

            <!-- Result (Hidden) -->
            <div id="check-result" class="hidden mt-4">
                <div id="captureCheck" class="bg-[#0a0a0a] border border-gray-800 rounded-xl p-5 shadow-2xl">
                    <div class="text-center mb-4 pb-2 border-b border-gray-800">
                         <h3 class="text-gray-400 text-xs uppercase tracking-widest">Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙØ­Øµ</h3>
                         <div id="statusBadge" class="mt-2 inline-block px-3 py-1 rounded text-xs font-bold"></div>
                    </div>

                    <!-- Breakdown -->
                    <div class="analysis-card">
                        <!-- 1. Generation -->
                        <div class="analysis-item">
                            <span class="analysis-label">1. Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ø§Ù„Ù‚Ø±Ù†)</span>
                            <span id="resGeneration" class="analysis-value"></span>
                        </div>
                        <!-- 2. Date -->
                        <div class="analysis-item">
                            <span class="analysis-label">2. ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</span>
                            <span id="resDate" class="analysis-value text-[#D4AF37]"></span>
                        </div>
                        <!-- 3. Gov -->
                        <div class="analysis-item">
                            <span class="analysis-label">3. Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© (ÙƒÙˆØ¯)</span>
                            <span id="resGov" class="analysis-value"></span>
                        </div>
                        <!-- 4. Gender -->
                        <div class="analysis-item">
                            <span class="analysis-label">4. Ø§Ù„Ù†ÙˆØ¹ (Ø±Ù‚Ù… 13)</span>
                            <span id="resGender" class="analysis-value"></span>
                        </div>
                        <!-- 5. Zodiac Name (New) -->
                        <div class="analysis-item">
                            <span class="analysis-label">5. Ø§Ù„Ø¨Ø±Ø¬ Ø§Ù„ÙÙ„ÙƒÙŠ</span>
                            <span id="resZodiacName" class="analysis-value text-[#00f3ff]"></span>
                        </div>
                        <!-- 6. Zodiac Traits (New) -->
                        <div class="analysis-item block">
                            <span class="analysis-label block mb-1">6. ØµÙØ§Øª Ø§Ù„Ø¨Ø±Ø¬</span>
                            <span id="resZodiacTraits" class="analysis-value text-[10px] text-gray-300 font-normal leading-tight"></span>
                        </div>
                        <!-- 7. Checksum -->
                        <div class="analysis-item">
                            <span class="analysis-label">7. Ø±Ù‚Ù… Ø§Ù„ØªØ­Ù‚Ù‚ (Ø±Ù‚Ù… 14)</span>
                            <span id="resCheck" class="analysis-value font-mono"></span>
                        </div>
                    </div>

                    <div id="errorMsg" class="mt-3 text-red-500 text-xs text-center hidden"></div>
                    
                    <div class="mt-4 text-[9px] text-gray-600 text-center">
                        Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©.
                        <br>By: Mahmoud AboElfadl
                    </div>
                </div>

                <!-- Actions -->
                <div class="mt-4 flex gap-2">
                    <button onclick="downloadImage('captureCheck', 'ID_Analysis')" class="flex-1 bg-gray-800 py-2 rounded-lg text-xs hover:bg-gray-700">Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
                    <button onclick="resetApp('check')" class="flex-1 bg-red-900/50 py-2 rounded-lg text-xs hover:bg-red-900">ÙØ­Øµ Ø¬Ø¯ÙŠØ¯</button>
                </div>
            </div>
        </div>

    </main>

    <footer class="text-center p-4 text-gray-600 text-xs">
        <p>ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©: Ù…Ø­Ù…ÙˆØ¯ Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„ Â© 2025</p>
    </footer>

    <script>
        // --- Setup Days ---
        const daySelect = document.getElementById('histDay');
        for (let i = 1; i <= 31; i++) {
            const opt = document.createElement('option'); opt.value = i; opt.innerText = i; daySelect.appendChild(opt);
        }

        // --- Data ---
        const hieroPaths = {
            'a': 'M10,25 Q15,5 20,25 M5,15 L25,15', 'b': 'M5,20 L10,10 L25,10 L25,25 L5,25',
            'c': 'M5,15 Q15,5 25,15', 'd': 'M5,10 L25,10 L25,20 Q15,25 5,20 Z',
            'e': 'M5,5 L10,25 M15,5 L20,25', 'f': 'M5,15 L25,15 M15,5 L15,25',
            'g': 'M10,10 Q15,5 20,10 L20,20 Q15,25 10,20 Z', 'h': 'M5,25 Q10,5 15,25 M20,25 Q25,5 30,25',
            'i': 'M10,5 L10,25 M20,5 L20,25', 'j': 'M5,10 L25,10 M15,10 L15,25',
            'k': 'M5,15 Q15,5 25,15', 'l': 'M10,5 L20,25 L5,25 Z',
            'm': 'M5,15 Q10,5 15,15 Q20,25 25,15', 'n': 'M2,15 L28,15 M2,20 L28,20',
            'o': 'M5,20 Q15,5 25,20', 'p': 'M5,5 L25,5 L25,10 L5,10 M10,10 L10,25 M20,10 L20,25',
            'q': 'M10,10 L20,20 M20,10 L10,20', 'r': 'M5,15 Q15,5 25,15 Q15,25 5,15',
            's': 'M5,10 L10,20 L20,5 L25,20', 't': 'M5,10 Q15,25 25,10',
            'u': 'M5,10 L10,20 L20,20 L25,10', 'v': 'M5,15 L25,15 M15,5 L15,25',
            'w': 'M5,10 L10,20 L20,20 L25,10', 'x': 'M5,5 L25,25 M25,5 L5,25',
            'y': 'M10,5 L10,25 M20,5 L20,25', 'z': 'M5,15 L25,15 M15,15 L15,5',
            'default': 'M10,10 L20,10 L20,20 L10,20 Z'
        };
        const arToEn = {'Ø§':'a','Ø£':'a','Ø¥':'e','Ø¢':'a','Ø¨':'b','Øª':'t','Ø«':'s','Ø¬':'g','Ø­':'h','Ø®':'k','Ø¯':'d','Ø°':'z','Ø±':'r','Ø²':'z','Ø³':'s','Ø´':'s','Øµ':'s','Ø¶':'d','Ø·':'t','Ø¸':'z','Ø¹':'a','Øº':'g','Ù':'f','Ù‚':'k','Ùƒ':'k','Ù„':'l','Ù…':'m','Ù†':'n','Ù‡':'h','Ùˆ':'w','ÙŠ':'y','Ù‰':'a','Ø©':'h'};
        const godProfiles = [
            { god: "Ø±Ø¹", title: "Ø§Ø¨Ù† Ø§Ù„Ø´Ù…Ø³", symbol: "â˜€ï¸", desc: "Ù‚ÙŠØ§Ø¯ÙŠØŒ Ù…Ø´Ø¹ØŒ ÙˆØµØ§Ø­Ø¨ Ù‚Ø±Ø§Ø±Ø§Øª Ø­Ø§Ø³Ù…Ø©." },
            { god: "ØªØ­ÙˆØª", title: "Ø­Ø§Ø±Ø³ Ø§Ù„Ø­ÙƒÙ…Ø©", symbol: "ğŸ“œ", desc: "Ù…ÙÙƒØ±ØŒ ØªØ­Ù„ÙŠÙ„ÙŠØŒ ÙˆØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©." },
            { god: "Ø¥ÙŠØ²ÙŠØ³", title: "Ù…Ø§Ù†Ø­ Ø§Ù„Ø­ÙŠØ§Ø©", symbol: "ğŸª½", desc: "Ù„Ø¯ÙŠÙƒ Ø³Ø­Ø± Ø®Ø§Øµ ÙˆÙ‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙˆØ§Ø¡." },
            { god: "Ø£ÙˆØ²ÙˆØ±ÙŠØ³", title: "Ø³ÙŠØ¯ Ø§Ù„Ø£Ø¨Ø¯ÙŠØ©", symbol: "ğŸ‘‘", desc: "Ù…ØªØ²Ù† ÙˆØ¹Ø§Ø¯Ù„ØŒ ÙˆØªÙ…Ù„Ùƒ Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¬Ø¯Ø¯." },
            { god: "Ø­ÙˆØ±Ø³", title: "Ø¹ÙŠÙ† Ø§Ù„ØµÙ‚Ø±", symbol: "ğŸ¦…", desc: "Ø´Ø¬Ø§Ø¹ ÙˆÙ…Ù‚Ø¯Ø§Ù…ØŒ Ù‚Ø§Ø¦Ø¯ Ø¨Ø§Ù„ÙØ·Ø±Ø©." },
            { god: "Ø£Ù†ÙˆØ¨ÙŠØ³", title: "Ø­Ø§Ø±Ø³ Ø§Ù„Ø£Ø³Ø±Ø§Ø±", symbol: "ğŸ•", desc: "ØºØ§Ù…Ø¶ØŒ ÙƒØ§ØªÙ… Ù„Ù„Ø£Ø³Ø±Ø§Ø±ØŒ ÙˆØ¹Ù…ÙŠÙ‚ Ø§Ù„ØªÙÙƒÙŠØ±." },
            { god: "Ø¨Ø§Ø³ØªÙŠØª", title: "Ø±ÙˆØ­ Ø§Ù„Ù‚ÙˆØ©", symbol: "ğŸ±", desc: "ØªÙ…Ø²Ø¬ Ø¨ÙŠÙ† Ø§Ù„Ù„Ø·Ù ÙˆØ§Ù„Ø´Ø±Ø§Ø³Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù„Ø²ÙˆÙ…." },
            { god: "Ø³Ø®Ù…Øª", title: "Ù‚ÙˆØ© Ø§Ù„Ø­Ø±Ø¨", symbol: "ğŸ¦", desc: "Ø´Ø®ØµÙŠØ© Ù†Ø§Ø±ÙŠØ©ØŒ Ø¥Ø±Ø§Ø¯Ø© Ø­Ø¯ÙŠØ¯ÙŠØ©." },
            { god: "Ù…ÙˆØª", title: "Ø§Ù„Ø£Ù… Ø§Ù„Ø¹Ø¸Ù…Ù‰", symbol: "ğŸº", desc: "Ù…Ù†Ø¸Ù… Ø¬Ø¯Ø§Ù‹ ÙˆØªØµÙ„Ø­ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©." },
            { god: "Ø¨ØªØ§Ø­", title: "Ø§Ù„ØµØ§Ù†Ø¹", symbol: "ğŸ”¨", desc: "Ù…Ø¨Ø¯Ø¹ØŒ ØªÙÙƒÙŠØ±Ùƒ Ø¹Ù…Ù„ÙŠØŒ ÙˆØ¨Ù†Ø§Ø¡." },
            { god: "Ø³ÙˆØ¨ÙŠÙƒ", title: "Ø³ÙŠØ¯ Ø§Ù„Ù†ÙŠÙ„", symbol: "ğŸŠ", desc: "Ù‚ÙˆÙŠ ÙˆØºØ±ÙŠØ²ÙŠØŒ ØªÙØ±Ø¶ Ø§Ø­ØªØ±Ø§Ù…Ùƒ." },
            { god: "Ø¢Ù…ÙˆÙ†", title: "Ø§Ù„Ø®ÙÙŠ", symbol: "ğŸŒ¬ï¸", desc: "ØºØ§Ù…Ø¶ØŒ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØŒ ÙˆØªØ®Ø·Ø· Ø¨Ø°ÙƒØ§Ø¡." }
        ];

        const zodiacData = {
            "Aries": { name: "Ø§Ù„Ø­Ù…Ù„ â™ˆ", traits: "Ø¬Ø±ÙŠØ¡ØŒ Ù…Ø¨Ø§Ø¯Ø±ØŒ Ù‚Ø§Ø¦Ø¯ Ø¨Ø§Ù„ÙØ·Ø±Ø©ØŒ ÙˆÙ„Ø§ ÙŠØ®Ø´Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª." },
            "Taurus": { name: "Ø§Ù„Ø«ÙˆØ± â™‰", traits: "ØµØ¨ÙˆØ±ØŒ Ø¹Ù…Ù„ÙŠØŒ Ù…Ø­Ø¨ Ù„Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±ØŒ ÙˆÙŠÙ‚Ø¯Ø± Ø§Ù„Ø¬Ù…Ø§Ù„." },
            "Gemini": { name: "Ø§Ù„Ø¬ÙˆØ²Ø§Ø¡ â™Š", traits: "Ø°ÙƒÙŠØŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØŒ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ ÙˆØ³Ø±ÙŠØ¹ Ø§Ù„ØªÙƒÙŠÙ." },
            "Cancer": { name: "Ø§Ù„Ø³Ø±Ø·Ø§Ù† â™‹", traits: "Ø¹Ø§Ø·ÙÙŠØŒ Ø­Ø¯Ø³ÙŠØŒ Ù…Ø®Ù„Øµ Ø¬Ø¯Ø§Ù‹ØŒ ÙˆÙŠØ­Ù…ÙŠ Ù…Ù† ÙŠØ­Ø¨." },
            "Leo": { name: "Ø§Ù„Ø£Ø³Ø¯ â™Œ", traits: "ÙƒØ§Ø±ÙŠØ²Ù…Ø§ Ø¹Ø§Ù„ÙŠØ©ØŒ ÙƒØ±ÙŠÙ…ØŒ Ø·Ù…ÙˆØ­ ÙˆÙŠØ­Ø¨ Ø§Ù„Ø£Ø¶ÙˆØ§Ø¡." },
            "Virgo": { name: "Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ â™", traits: "Ø¯Ù‚ÙŠÙ‚ØŒ ØªØ­Ù„ÙŠÙ„ÙŠØŒ ÙŠØ³Ø¹Ù‰ Ù„Ù„ÙƒÙ…Ø§Ù„ ÙˆÙŠØ­Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù…." },
            "Libra": { name: "Ø§Ù„Ù…ÙŠØ²Ø§Ù† â™", traits: "Ø¯Ø¨Ù„ÙˆÙ…Ø§Ø³ÙŠØŒ Ø¹Ø§Ø¯Ù„ØŒ ÙˆÙŠØ³Ø¹Ù‰ Ù„Ù„ØªÙˆØ§Ø²Ù† ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡." },
            "Scorpio": { name: "Ø§Ù„Ø¹Ù‚Ø±Ø¨ â™", traits: "Ø´ØºÙˆÙØŒ Ù‚ÙˆÙŠ Ø§Ù„Ø¥Ø±Ø§Ø¯Ø©ØŒ ØºØ§Ù…Ø¶ ÙˆØ¬Ø°Ø§Ø¨." },
            "Sagittarius": { name: "Ø§Ù„Ù‚ÙˆØ³ â™", traits: "Ù…ØªÙØ§Ø¦Ù„ØŒ Ù…Ø­Ø¨ Ù„Ù„Ù…ØºØ§Ù…Ø±Ø©ØŒ ØµØ§Ø¯Ù‚ ÙˆÙÙ„Ø³ÙÙŠ." },
            "Capricorn": { name: "Ø§Ù„Ø¬Ø¯ÙŠ â™‘", traits: "Ø·Ù…ÙˆØ­ØŒ Ù…Ù†Ø¶Ø¨Ø·ØŒ ÙˆÙŠØ®Ø·Ø· Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø¨Ø¬Ø¯ÙŠØ©." },
            "Aquarius": { name: "Ø§Ù„Ø¯Ù„Ùˆ â™’", traits: "Ù…Ø¨ØªÙƒØ±ØŒ Ù…Ø³ØªÙ‚Ù„ØŒ ÙˆÙŠÙÙƒØ± Ø®Ø§Ø±Ø¬ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø¯Ø§Ø¦Ù…Ø§Ù‹." },
            "Pisces": { name: "Ø§Ù„Ø­ÙˆØª â™“", traits: "Ø­Ø§Ù„Ù…ØŒ Ù…ØªØ¹Ø§Ø·ÙØŒ ÙˆÙ„Ø¯ÙŠÙ‡ Ø®ÙŠØ§Ù„ ÙÙ†ÙŠ ÙˆØ§Ø³Ø¹." }
        };

        const govCodes = {
            "01": "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", "02": "Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©", "03": "Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯", "04": "Ø§Ù„Ø³ÙˆÙŠØ³",
            "11": "Ø¯Ù…ÙŠØ§Ø·", "12": "Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©", "13": "Ø§Ù„Ø´Ø±Ù‚ÙŠØ©", "14": "Ø§Ù„Ù‚Ù„ÙŠÙˆØ¨ÙŠØ©",
            "15": "ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®", "16": "Ø§Ù„ØºØ±Ø¨ÙŠØ©", "17": "Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©", "18": "Ø§Ù„Ø¨Ø­ÙŠØ±Ø©",
            "19": "Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©", "21": "Ø§Ù„Ø¬ÙŠØ²Ø©", "22": "Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ", "23": "Ø§Ù„ÙÙŠÙˆÙ…",
            "24": "Ø§Ù„Ù…Ù†ÙŠØ§", "25": "Ø£Ø³ÙŠÙˆØ·", "26": "Ø³ÙˆÙ‡Ø§Ø¬", "27": "Ù‚Ù†Ø§",
            "28": "Ø£Ø³ÙˆØ§Ù†", "29": "Ø§Ù„Ø£Ù‚ØµØ±", "31": "Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±", "32": "Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯",
            "33": "Ù…Ø·Ø±ÙˆØ­", "34": "Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡", "35": "Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡", "88": "Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ©"
        };

        // --- Helpers ---
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`tab-${tab}`).classList.add('active');
            
            if(tab === 'history') {
                document.getElementById('history-section').classList.remove('hidden');
                document.getElementById('check-section').classList.add('hidden');
            } else {
                document.getElementById('history-section').classList.add('hidden');
                document.getElementById('check-section').classList.remove('hidden');
            }
        }

        function getZodiacInfo(day, month) {
            day = parseInt(day);
            month = parseInt(month);
            if ((month == 1 && day >= 20) || (month == 2 && day <= 18)) return zodiacData["Aquarius"];
            if ((month == 2 && day >= 19) || (month == 3 && day <= 20)) return zodiacData["Pisces"];
            if ((month == 3 && day >= 21) || (month == 4 && day <= 19)) return zodiacData["Aries"];
            if ((month == 4 && day >= 20) || (month == 5 && day <= 20)) return zodiacData["Taurus"];
            if ((month == 5 && day >= 21) || (month == 6 && day <= 20)) return zodiacData["Gemini"];
            if ((month == 6 && day >= 21) || (month == 7 && day <= 22)) return zodiacData["Cancer"];
            if ((month == 7 && day >= 23) || (month == 8 && day <= 22)) return zodiacData["Leo"];
            if ((month == 8 && day >= 23) || (month == 9 && day <= 22)) return zodiacData["Virgo"];
            if ((month == 9 && day >= 23) || (month == 10 && day <= 22)) return zodiacData["Libra"];
            if ((month == 10 && day >= 23) || (month == 11 && day <= 21)) return zodiacData["Scorpio"];
            if ((month == 11 && day >= 22) || (month == 12 && day <= 21)) return zodiacData["Sagittarius"];
            return zodiacData["Capricorn"];
        }

        // --- History Logic ---
        function generateHistoryCard(e) {
            e.preventDefault();
            const name = document.getElementById('histName').value.trim();
            const day = document.getElementById('histDay').value;
            const month = document.getElementById('histMonth').value;
            const year = document.getElementById('histYear').value;
            const gender = document.querySelector('input[name="histGender"]:checked').value;

            if(!name || !year) return;

            // Hiero
            const hieroContainer = document.getElementById('hieroglyphName');
            hieroContainer.innerHTML = '';
            let englishChars = [];
            for (let char of name.toLowerCase()) {
                if (arToEn[char]) englishChars.push(arToEn[char]);
                else if (/[a-z]/.test(char)) englishChars.push(char);
            }
            const svgNS = "http://www.w3.org/2000/svg";
            englishChars.slice(0, 8).forEach(char => {
                const pathData = hieroPaths[char] || hieroPaths['default'];
                const svg = document.createElementNS(svgNS, "svg");
                svg.setAttribute("viewBox", "0 0 30 30");
                svg.setAttribute("class", "hiero-symbol");
                const path = document.createElementNS(svgNS, "path");
                path.setAttribute("d", pathData);
                path.setAttribute("fill", "none");
                path.setAttribute("stroke", "black");
                path.setAttribute("stroke-width", "2");
                path.setAttribute("stroke-linecap", "round");
                svg.appendChild(path);
                hieroContainer.appendChild(svg);
            });

            // Calc
            const age = new Date().getFullYear() - year;
            const zodiac = getZodiacInfo(day, month);
            const profile = godProfiles[month - 1];
            let title = profile.title;
            if (gender === 'female') title = title.replace("Ø§Ø¨Ù†", "Ø§Ø¨Ù†Ø©").replace("Ø³ÙŠØ¯", "Ø³ÙŠØ¯Ø©").replace("Ø­Ø§Ø±Ø³", "Ø­Ø§Ø±Ø³Ø©").replace("ØµØ§Ù†Ø¹", "ØµØ§Ù†Ø¹Ø©");

            // Fill
            document.getElementById('cardName').innerText = name;
            document.getElementById('godName').innerText = `${profile.god} - ${title}`;
            document.getElementById('godSymbol').innerText = profile.symbol;
            document.getElementById('prophecy').innerText = profile.desc;
            
            document.getElementById('histAgeBadge').innerText = `${age} Ø³Ù†Ø©`;
            document.getElementById('histZodiacBadge').innerText = zodiac.name;
            document.getElementById('histZodiacTraits').innerText = zodiac.traits;
            document.getElementById('histFullDate').innerText = `${year} / ${month} / ${day}`;

            document.getElementById('history-input').classList.add('hidden');
            document.getElementById('history-result').classList.remove('hidden');
            document.getElementById('history-result').classList.add('reveal');
        }

        // --- ID Check Logic ---
        function analyzeID(e) {
            e.preventDefault();
            const nid = document.getElementById('nidInput').value;
            const resultDiv = document.getElementById('check-result');
            const inputDiv = document.getElementById('check-input');
            const statusBadge = document.getElementById('statusBadge');
            const errorMsg = document.getElementById('errorMsg');

            errorMsg.classList.add('hidden');
            statusBadge.className = 'mt-2 inline-block px-3 py-1 rounded text-xs font-bold';
            let isValid = true;
            let failureReason = "";

            if (nid.length !== 14) {
                isValid = false; failureReason = "Ø·ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù… ØºÙŠØ± ØµØ­ÙŠØ­ (ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 14 Ø±Ù‚Ù…)";
            }

            const centuryDigit = nid[0];
            let generation = "", yearPrefix = "";
            if (isValid) {
                if (centuryDigit === '2') { generation = "1900 - 1999"; yearPrefix = "19"; }
                else if (centuryDigit === '3') { generation = "2000 - 2099"; yearPrefix = "20"; }
                else { isValid = false; failureReason = "Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙˆÙ„ Ø®Ø·Ø£ (ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 2 Ø£Ùˆ 3)"; }
            }

            let fullDate = "", d = 0, m = 0;
            if (isValid) {
                const y = nid.substring(1, 3);
                m = parseInt(nid.substring(3, 5));
                d = parseInt(nid.substring(5, 7));
                
                if (m > 12 || m < 1) { isValid = false; failureReason = "Ø´Ù‡Ø± Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠ"; }
                if (d > 31 || d < 1) { isValid = false; failureReason = "ÙŠÙˆÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠ"; }
                fullDate = `${d} / ${m} / ${yearPrefix}${y}`;
            }

            let govName = "";
            if (isValid) {
                const code = nid.substring(7, 9);
                govName = govCodes[code];
                if (!govName) { isValid = false; failureReason = `ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© (${code}) ØºÙŠØ± Ù…Ø¯Ø±Ø¬ Ø±Ø³Ù…ÙŠØ§Ù‹`; }
            }

            let gender = "";
            if (isValid) {
                const gDigit = parseInt(nid[12]);
                gender = (gDigit % 2 !== 0) ? "Ø°ÙƒØ±" : "Ø£Ù†Ø«Ù‰";
            }

            // Display
            if (isValid) {
                statusBadge.classList.add('bg-green-900', 'text-green-300');
                statusBadge.innerText = "âœ“ Ø±Ù‚Ù… ØµØ­ÙŠØ­ (Valid)";
                
                const zodiac = getZodiacInfo(d, m); // Get Zodiac for Check Tool

                document.getElementById('resGeneration').innerText = generation;
                document.getElementById('resDate').innerText = fullDate;
                document.getElementById('resGov').innerText = govName + ` (${nid.substring(7, 9)})`;
                document.getElementById('resGender').innerText = gender;
                document.getElementById('resZodiacName').innerText = zodiac.name;
                document.getElementById('resZodiacTraits').innerText = zodiac.traits;
                document.getElementById('resCheck').innerText = nid[13] + " (Active)";
            } else {
                statusBadge.classList.add('bg-red-900', 'text-red-300');
                statusBadge.innerText = "âœ— Ø±Ù‚Ù… ØºÙŠØ± ØµØ­ÙŠØ­ (Invalid)";
                errorMsg.innerText = failureReason;
                errorMsg.classList.remove('hidden');
                
                document.getElementById('resGeneration').innerText = "-";
                document.getElementById('resDate').innerText = "-";
                document.getElementById('resGov').innerText = "-";
                document.getElementById('resGender').innerText = "-";
                document.getElementById('resZodiacName').innerText = "-";
                document.getElementById('resZodiacTraits').innerText = "-";
                document.getElementById('resCheck').innerText = "-";
            }

            inputDiv.classList.add('hidden');
            resultDiv.classList.remove('hidden');
            resultDiv.classList.add('reveal');
        }

        // --- Common Utils ---
        function resetApp(section) {
            if(section === 'history') {
                document.getElementById('history-result').classList.add('hidden');
                document.getElementById('history-input').classList.remove('hidden');
                document.getElementById('histName').value = '';
                document.getElementById('histYear').value = '';
            } else {
                document.getElementById('check-result').classList.add('hidden');
                document.getElementById('check-input').classList.remove('hidden');
                document.getElementById('nidInput').value = '';
            }
        }

        function downloadImage(targetId, filename) {
            const el = document.getElementById(targetId);
            html2canvas(el, { scale: 2, backgroundColor: null }).then(canvas => {
                const link = document.createElement('a');
                link.download = `${filename}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        function shareWhatsApp() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent("Ø¬Ø±Ø¨ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© ÙˆØ§Ù„Ø±Ù‚Ù…ÙŠØ©! Ø§ÙƒØªØ´Ù Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„Ù‡ÙŠØ±ÙˆØºÙ„ÙŠÙÙŠØ© Ø£Ùˆ ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ù‚Ù…Ùƒ Ø§Ù„Ù‚ÙˆÙ…ÙŠ.");
            window.open(`https://wa.me/?text=${text}%0A${url}`, '_blank');
        }
    </script>
</body>
</html>

